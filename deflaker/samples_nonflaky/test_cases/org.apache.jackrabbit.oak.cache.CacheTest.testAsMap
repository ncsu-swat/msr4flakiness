@Test
public void testAsMap() {
    CacheLIRS<Integer, String> cache = createCache(10, 1);
    ConcurrentMap<Integer, String> map = cache.asMap();
    assertNull(map.putIfAbsent(1, "Hello"));
    assertEquals(1, map.size());
    assertEquals("Hello", cache.getIfPresent(1));
    assertEquals("Hello", map.putIfAbsent(1, "Hallo"));
    assertEquals("Hello", cache.getIfPresent(1));
    assertEquals("Hello", map.replace(1, "Hallo"));
    assertEquals("Hallo", cache.getIfPresent(1));
    assertFalse(map.replace(1, "x", "y"));
    assertTrue(map.replace(1, "Hallo", "Hi!"));
    assertFalse(map.remove(1, "Hello"));
    assertTrue(map.remove(1, "Hi!"));
    assertEquals(0, map.size());
    map.put(1, "Hello");
    assertEquals("[1]", map.keySet().toString());
    assertEquals("[1=Hello]", cache.entrySet().toString());
    assertEquals("Hello", map.get(1));
    assertTrue(map.containsKey(1));
    assertFalse(map.containsKey(2));
    assertTrue(map.containsValue("Hello"));
    assertFalse(map.containsValue("Hallo"));
    assertFalse(map.isEmpty());
    map.remove(1);
    assertTrue(map.isEmpty());
    map.put(1, "Hello");
    map.clear();
    assertTrue(map.isEmpty());
}
