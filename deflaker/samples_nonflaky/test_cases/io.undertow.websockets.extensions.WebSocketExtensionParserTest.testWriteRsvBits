@Test
public void testWriteRsvBits() {
    int rsv = 4;
    Assert.assertEquals(ExtensionFunction.RSV1, rsv & ExtensionFunction.RSV1);
    Assert.assertNotEquals(ExtensionFunction.RSV2, rsv & ExtensionFunction.RSV2);
    Assert.assertNotEquals(ExtensionFunction.RSV3, rsv & ExtensionFunction.RSV3);
    rsv = 2;
    Assert.assertEquals(ExtensionFunction.RSV2, rsv & ExtensionFunction.RSV2);
    Assert.assertNotEquals(ExtensionFunction.RSV1, rsv & ExtensionFunction.RSV1);
    Assert.assertNotEquals(ExtensionFunction.RSV3, rsv & ExtensionFunction.RSV3);
    rsv = 1;
    Assert.assertEquals(ExtensionFunction.RSV3, rsv & ExtensionFunction.RSV3);
    Assert.assertNotEquals(ExtensionFunction.RSV1, rsv & ExtensionFunction.RSV1);
    Assert.assertNotEquals(ExtensionFunction.RSV2, rsv & ExtensionFunction.RSV2);
    rsv = 6;
    Assert.assertEquals(ExtensionFunction.RSV1, rsv & ExtensionFunction.RSV1);
    Assert.assertEquals(ExtensionFunction.RSV2, rsv & ExtensionFunction.RSV2);
    Assert.assertNotEquals(ExtensionFunction.RSV3, rsv & ExtensionFunction.RSV3);
    rsv = 3;
    Assert.assertNotEquals(ExtensionFunction.RSV1, rsv & ExtensionFunction.RSV1);
    Assert.assertEquals(ExtensionFunction.RSV2, rsv & ExtensionFunction.RSV2);
    Assert.assertEquals(ExtensionFunction.RSV3, rsv & ExtensionFunction.RSV3);
    rsv = 5;
    Assert.assertEquals(ExtensionFunction.RSV1, rsv & ExtensionFunction.RSV1);
    Assert.assertNotEquals(ExtensionFunction.RSV2, rsv & ExtensionFunction.RSV2);
    Assert.assertEquals(ExtensionFunction.RSV3, rsv & ExtensionFunction.RSV3);
    rsv = 7;
    Assert.assertEquals(ExtensionFunction.RSV1, rsv & ExtensionFunction.RSV1);
    Assert.assertEquals(ExtensionFunction.RSV2, rsv & ExtensionFunction.RSV2);
    Assert.assertEquals(ExtensionFunction.RSV3, rsv & ExtensionFunction.RSV3);
    rsv = 8;
    Assert.assertNotEquals(ExtensionFunction.RSV1, rsv & ExtensionFunction.RSV1);
    Assert.assertNotEquals(ExtensionFunction.RSV2, rsv & ExtensionFunction.RSV2);
    Assert.assertNotEquals(ExtensionFunction.RSV3, rsv & ExtensionFunction.RSV3);
    rsv = 0 | ExtensionFunction.RSV1;
    Assert.assertEquals(ExtensionFunction.RSV1, rsv & ExtensionFunction.RSV1);
    Assert.assertNotEquals(ExtensionFunction.RSV2, rsv & ExtensionFunction.RSV2);
    Assert.assertNotEquals(ExtensionFunction.RSV3, rsv & ExtensionFunction.RSV3);
    rsv = 0 | ExtensionFunction.RSV2;
    Assert.assertNotEquals(ExtensionFunction.RSV1, rsv & ExtensionFunction.RSV1);
    Assert.assertEquals(ExtensionFunction.RSV2, rsv & ExtensionFunction.RSV2);
    Assert.assertNotEquals(ExtensionFunction.RSV3, rsv & ExtensionFunction.RSV3);
    rsv = 0 | ExtensionFunction.RSV3;
    Assert.assertNotEquals(ExtensionFunction.RSV1, rsv & ExtensionFunction.RSV1);
    Assert.assertNotEquals(ExtensionFunction.RSV2, rsv & ExtensionFunction.RSV2);
    Assert.assertEquals(ExtensionFunction.RSV3, rsv & ExtensionFunction.RSV3);
}
